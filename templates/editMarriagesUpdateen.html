<!--*********************************************************************
 *  editMarriagesUpdateen.html											*
 *																		*
 *  Template to display a web page for editing the families for which   *
 *  a particular individual has the role of spouse.	                    *
 *																		*
 *  History: 															*
 *		2019/11/11		created		                                    *
 *																		*
 *  Copyright &copy; 2019 James A. Cobban								*
 **********************************************************************-->
    <div id="breadcrumbs" class="hidden">
	  <a href="/index.html">Home</a>:
      <a href="/genealogy.php?lang=$LANG">
			Genealogy
      </a>:
      <a href="/FamilyTree/Services.php?lang=$LANG">
			Services
      </a>:
      <a href="/FamilyTree/nominalIndex.php?name=$NAMEURI&treename=$TREENAME&lang=$LANG">
			Nominal Index
      </a>:
      <a href="/FamilyTree/Person.php?idir=$IDIR&lang=$LANG" id="person">
			$NAME
      </a>:
    </div>
    <div id="bodydiv" class="body">
	  <h1>
	    <span class="right">
		  <a href="editMarriagesHelpen.html" target="help">? Help</a>
	    </span>
		  $title
		    <div style="clear: both;"></div>
	  </h1>
	  $TRACE
	  $MSG
      <form name="indForm" id="indForm"
            action="updateMarriages.php" method="post">
	    <fieldset id="FamiliesSet" class="other">
		  <legend class="labelSmall">Families</legend>
		  <input type="hidden" name="idir" id="idir"
				  value="$idir">
		  <input type="hidden" name="child" id="child" 
				  value="$child">
		  <input type="hidden" name="sex" id="sex" 
				  value="$sex">
		  <table class="details" id="marriageList">
		    <thead>
		      <tr>
		          <th class="colhead">
			    Date
		          </th>
		          <th class="colhead">
			    Husband
		          </th>
		          <th class="colhead">
			    Wife
		          </th>
		          <th class="colhead">
			    Pref
		          </th>
		          <th class="colhead" colspan="2">
			    Actions
		          </th>
		      </tr>
		    </thead>
		    <tbody id="marriageListBody">
		      <tr id="marriage$idmr">
		        <td id="mdate$idmr">
				    $mdate 
		        </td>
		        <td>
		          <a href="Person.php?id=$husbid"
						    class="male" id="husbname$idmr">
				    $husbName
		          </a>
		        </td>
		        <td>
		          <a href="Person.php?id=$wifeid"
						    class="female" id="wifename$idmr">
				    $wifeName
		          </a>
		        </td>
		        <td class="center">
		          <input type="checkbox" name="Pref$idmr"
				    checked="checked">
		        </td>
		        <td>
		          <button type="button" class="button" class="button" 
						    id="Edit$idmr">
				    Edit Family
		          </button>
		        </td>
		        <td>
		          <button type="button" class="button" class="button"
						    id="Delete$idmr">
				    Delete Family
		          </button>
		        </td>
		      </tr>
		    </tbody>
	      </table>
		  <div class="row">
		    <label class="column1" for="Add">
				  Actions:
		    </label>
		    <button type="button" class="button" id="Add">
				  <u>A</u>dd Family
		    </button>
		    &nbsp;
		    <button type="button" class="button" id="Reorder"
				  style="width: 18em;">
		      <u>O</u>rder Families by Date
		    </button>
		  </div>
	    </fieldset>
      </form> <!-- name="indForm" id="indForm" -->

	<!--*********************************************************************
	 *		The current family is displayed in a separate form				*
	 **********************************************************************-->
	  <form name="famForm" id="famForm"
		    action="updateMarriageXml.php" method="post">
		<input type="hidden" name="idmr" id="idmr" value="$idmr">
		<input type="hidden" name="treename" id="treename" 
				value="$treename">
	    <fieldset id="HusbandSet" class="male">
		  <legend class="labelSmall">Husband</legend>
		  <div class="row" id="Husb">
		    <div class="column1">
		      <label class="column1" for="HusbGivenName`">
				  Name:
		      </label>
		      <input type="hidden" name="IDIRHusb" id="IDIRHusb"
						  value="$idirhusb">
		      <input type="text" name="HusbGivenName" id="HusbGivenName"
						  size="30" maxlength="120"
						  class="white left" value="$husbgivenname">
		      <input type="text" name="HusbSurname" id="HusbSurname"
						  size="20" maxlength="120"
						  class="white left" value="$husbsurname">
		      <input type="hidden" name="HusbBirthSD" id="HusbBirthSD"
						  value="$husbbirthsd">
		      <input type="hidden" name="HusbOrder" id="HusbOrder"
						  value="$husborder">
		    </div>
		    <div>
		      <button type="button" class="button" id="editHusb">
				  Edit Husband
		      </button>
		    </div>
		    <div style="clear: both;"></div>
		  </div>
		  <div class="row" id="HusbMarrSurnameRow">
		    <div class="column1">
		      <label class="column1" for="HusbMarrSurname">
				  Married Surname:
		      </label>
		      <div style="width: 299px; float: left;">&nbsp;</div>
		      <input type="text" name="HusbMarrSurname" id="HusbMarrSurname"
						  size="20" maxlength="255"
						  class="white left" value="$husbsurname">
		    </div>
		    <div style="clear: both;"></div>
		  </div>
		  <div class="row" id="SelectHusbandRow">
		      <label class="column1" for="chooseHusb">
				  Actions:
		      </label>
		      <button type="button" id="chooseHusb"
				  class="button">
				  Select Existing Husband
		      </button>
		      &nbsp;
		      <button type="button" id="createHusb"
				  class="button">
				  Create New <u>H</u>usband
		      </button>
		      &nbsp;
		      <button type="button" id="detachHusb"
				  class="button">
				  Detach Husband
		      </button>
		    <div style="clear: both;"></div>
		  </div> <!-- end of Husband row -->
	    </fieldset>
	    <fieldset id="WifeSet" class="female">
		  <legend class="labelSmall">Wife</legend>
		  <div class="row" id="Wife">
		    <div class="column1">
		      <label class="column1" for="WifeGivenName">
				  Name:
		      </label>
		      <input type="hidden" name="IDIRWife" id="IDIRWife"
						  value="$idirwife">
		      <input type="text" name="WifeGivenName" id="WifeGivenName"
						  size="30" maxlength="120"
						  class="white left" value="$wifegivenname">
		      <input type="text" name="WifeSurname" id="WifeSurname"
						  size="20" maxlength="120"
						  class="white left" value="$wifesurname">
		      <input type="hidden" name="WifeBirthSD" id="WifeBirthSD"
						  value="$wifebirthsd">
		      <input type="hidden" name="WifeOrder" id="WifeOrder"
						  value="$wifeorder">
		    </div>
		    <div>
		      <button type="button" class="button" id="editWife">
				  Edit Wife
		      </button>
		    </div>
		    <div style="clear: both;"></div>
		  </div>
		  <div class="row" id="WifeMarrSurnameRow">
		    <div class="column1">
		      <label class="column1" for="WifeMarrSurname">
				  Married Surname:
		      </label>
		      <div style="width: 299px; float: left;">&nbsp;</div>
		      <input type="text" name="WifeMarrSurname" id="WifeMarrSurname"
						  size="20" maxlength="255"
						  class="white left" value="$husbsurname">
		    </div>
		    <div style="clear: both;"></div>
		  </div>
		  <div class="row" id="selectWifeRow">
		      <label class="column1" for="chooseWife">
				  Actions:
		      </label>
		      <button type="button" id="chooseWife"
				  class="button">
				  Select Existing Wife
		      </button>
		      &nbsp;
		      <button type="button" id="createWife"
				  class="button">
				  Create New <u>W</u>ife
		      </button>
		      &nbsp;
		      <button type="button" id="detachWife"
				  class="button">
				  Detach Wife
		      </button>
		    <div style="clear: both;"></div>
		  </div> <!-- end of Wife row -->
	    </fieldset>
	    <fieldset id="EventSet" class="other">
		  <legend class="labelSmall">Events</legend>
		  <div class="row" id="MarriageRow">
		    <div class="column1">
		      <label class="column1" for="MarD">
				  Married:
		      </label>
		      <input type="text" name="MarD" id="MarD"
						  size="12" maxlength="100"
						  class="white left" value="$marDate">
		      <span style="font-weight: bold;">at</span>
		      <input type="text" name="MarLoc" id="MarLoc"
						  size="36" maxlength="255"
						  class="white leftnc" value="$marLoc">
		    </div>
		    <div>
		      <button type="button" class="button" id="marriageDetails">
				  Details
		      </button>
		    </div>
		    <div style="clear: both;"></div>
		  </div> <!-- end of Marriage row -->
	    <!-- rows for other events are inserted here -->
		  <div class="row" id="EventRow$ider">
		    <div class="column1">
		      <label class="column1" for="Date$ider">
				  $type $description
		      </label>
		      <input type="hidden"
						  name="citType$ider"
						  value="$idet">
		      <input type="text" size="12"
						  name="Date$ider"
						  class="white left"
						  value="$eventd">
		      <span style="font-weight: bold;">at</span>
		      <input type="text" size="36"
						  name="EventLoc$ider"
						  class="white leftnc"
						  value="$eventloc" >
		    </div>
		    <div>
		      <button type="button" class="button"
						  id="EditEvent$ider">
				  Details
		      </button>
		      &nbsp;
		      <button type="button" class="button"
						  id="DelEvent$ider">
				  Delete
		      </button>
		    </div>
		    <div style="clear: both;"></div>
		  </div> <!-- end of id="EventRow$ider" -->
		  <div class="row" id="AddEventRow">
		    <label class="column1" for="AddEvent">
				  Actions:
		    </label>
		    <button type="button" id="AddEvent"
				  class="button">
				  <u>A</u>dd Event
		    </button>
				  &nbsp;
		    <button type="button" id="OrderEvents"
				  class="button">
				      Order Events by <u>D</u>ate
		    </button>
		    <div style="clear: both;"></div>
		  </div> <!-- end of id="AddEventRow" -->
	    </fieldset>
	    <fieldset id="InformationSet" class="other">
		  <legend class="labelSmall">Information</legend>
		  <div class="row" id="IdmrRow">
		    <div class="column1">
		      <label class="column1" for="idmrshow">
				  IDMR:
		      </label>
	          <input type="text" name="idmrshow" id="idmrshow"
	                      size="6" class="ina rightnc"
						  readonly="readonly" value="$idmr">
		    </div>
		    <div style="clear: both;"></div>
		  </div> <!-- end of id="IdmrRow" -->
		  <div class="row" id="StatusRow">
		    <div class="column1">
		      <label class="column1" for="IDMS">
				      Status:
		      </label>
		      <select name="IDMS" id="IDMS" size="1" class="white left">
				  <option value="1" $selected1>
				      no special status
				  </option>
				  <option value="2" $selected2>
				      Annulled
				  </option>
				  <option value="3" $selected3>
				      Common Law
				  </option>
				  <option value="4" $selected4>
				      Divorced
				  </option>
				  <option value="5" $selected5>
				      Married
				  </option>
				  <option value="6" $selected6>
				      Other
				  </option>
				  <option value="7" $selected7>
				      Separated
				  </option>
				  <option value="8" $selected8>
				      Unmarried
				  </option>
				  <option value="9" $selected9>
				      Divorce
				  </option>
				  <option value="10" $selected10>
				      Separation
				  </option>
				  <option value="11" $selected11>
				      Private
				  </option>
				  <option value="12" $selected12>
				      Partners
				  </option>
				  <option value="13" $selected13>
				      Death of one spouse
				  </option>
				  <option value="14" $selected14>
				      Single
				  </option>
				  <option value="15" $selected15>
				      Friends
				  </option>
		      </select>
		    </div>
		    <div style="clear: both;"></div>
		  </div> <!-- end of Ending Status row -->
	  
		  <div class="row" id="NameRuleRow">
		    <label class="column1" for="MarriedNameRule">
				  Name Rule:
		    </label>
		      <select name="MarriedNameRule" id="MarriedNameRule"
				  size="1" class="white left">
				  <option value="0" $selected0>
				      Don't Generate Married Names
				  </option>
				  <option value="1" $selected1>
				      Replace Wife's Surname with Husband's Surname
				  </option>
		      </select>
		    <div style="clear: both;"></div>
		  </div> <!-- end of id="NameRuleRow"-->
	  
		  <div class="row" id="NotesRow">
		    <label class="column1" for="Notes">
				  Notes:
		    </label>
	  <!-- note that when initializing a <textarea>, unlike other tags
		   the space around the text value becomes part of the value
		   of the tag, so there can be no space characters between the 
		   opening and closing tags and the value of the field -->
		      <textarea name="Notes" id="Notes" cols="60" rows="4"
				  >$notes</textarea>
		    <div style="clear: both;"></div>
		  </div> <!-- end of Notes row -->
		  <div class="row" id="NoteDetailsButtonRow">
		    <div class="column1">
		      <label class="column1" for="noteDetails">
		      </label>
		    </div>
		    <div>
		      <button type="button" class="button" id="noteDetails">
				  Details
		      </button>
		    </div>
		    <div style="clear: both;"></div>
		  </div> <!-- end of id="NoteDetailsButton" -->
		  <div class="row" id="InformationActionsRow">
		      <label class="column1" for="chooseHusb">
				  Actions:
		      </label>
		      <button type="button" class="button" id="Pictures">
				  Edit <u>P</u>ictures
		      </button>
		    <div style="clear: both;"></div>
		  </div> <!-- end of id="InformationActionsRow" -->
	    </fieldset>
	    <fieldset class="other" id="ChildrenSet">
		  <legend class="labelSmall">Children</legend>
		  <table class="details" id="children">
		    <thead>
		      <tr>
		        <th class="colhead" style="width: 176px;">
				  &nbsp;&nbsp;&nbsp;Given&nbsp;&nbsp;&nbsp;
		        </th>
		        <th class="colhead" style="width: 116px;">
				  &nbsp;&nbsp;Surname&nbsp;&nbsp;
		        </th>
		        <th class="colhead" style="width: 104px;">
				  &nbsp;Birth&nbsp;
		        </th>
		        <th class="colhead" style="width: 104px;">
				  &nbsp;Death&nbsp;
		        </th>
		        <th class="colhead" colspan="2">
				  Actions
		        </th>
		      </tr>
		    </thead>
		    <tbody id="childrenBody">
			  <tr id="child$rownum">
			    <td class="name">
			      <input type="hidden"
							  name="CIdir$rownum" 
							  id="CIdir$rownum"
							  value="$cIdir">
			      <input type="hidden"
							  name="CIdcr$rownum" 
							  id="CIdcr$rownum"
							  value="$cIdcr">
			      <input type="hidden"
							  name="CGender$rownum" 
							  id="CGender$rownum"
							  value="$gender">
			      <input class="$genderclass"
							  name="CGiven$rownum" 
							  id="CGiven$rownum"
							  value="$cgivenname" 
							  type="text" size="15" maxlength="120">
			    </td>
			    <td class="name">
			      <input class="$genderclass"
							  name="CSurname$rownum"
							  id="CSurname$rownum" 
							  value="$csurname"
							  type="text" size="10" maxlength="120">
			    </td>
			    <td class="name">
			      <input class="white left"
							  name="Cbirth$rownum"
							  id="Cbirth$rownum" 
							  value="$birthd" 
							  type="text" size="12" maxlength="100">
			      <input name="Cbirthsd$rownum"
							  id="Cbirthsd$rownum" 
							  type="hidden" 
							  value="$birthsd">
			    </td>
			    <td class="name">
			      <input class="white left"
							  name="Cdeath$rownum"
							  id="Cdeath$rownum" 
							  value="$deathd"
							  type="text" size="12" maxlength="100">
			    </td>
			    <td>
			      <button type="button" class="button"
							  id="editChild$rownum">
					  Edit Child
			      </button>
			    </td>
			    <td>
			      <button type="button" class="button"
							  id="detChild$rownum">
					  Detach&nbsp;Child
			      </button>
			    </td>
			  </tr>
		    </tbody>
		  </table> <!-- id="children" -->
		  <input type="hidden"
				  name="CIdir99" id="CIdir99"
				  value="-1">
		  <div class="row">
		      <label class="column1" for="chooseHusb">
				  Actions:
		      </label>
		      <button type="button" class="button" id="addChild">
				      Add <u>E</u>xisting Child
		      </button>
		      &nbsp;
		      <button type="button" class="button" id="addNewChild">
				      Add <u>N</u>ew&nbsp;Child
		      </button>
		      &nbsp;
		      <button type="button" class="button" id="orderChildren"
				  style="width: 18em;">
		        <u>O</u>rder Children by Birth Date
		      </button>
		  </div> <!-- class="row" -->
	    </fieldset>
	    <p id="MarrButtonLine">
	      <button type="submit" id="Submit">
		        Submit Family
	      </button>
	      <button type="button" class="button" id="update">
		        <u>U</u>pdate Family
	      </button>
	      <button type="button" class="button" id="update">
		        <u>U</u>pdate Family
	      </button>
    	    &nbsp;
	      <button type="button" class="button" id="Finish">
		        <u>C</u>lose
	      </button>
	    </p>
	  </form> <!-- name="famForm" id="famForm" -->
	</div> <!-- id="bodydiv" -->
	<div class="balloon" id="HelpPref">
	<p>Click on the checkbox to make the specified marriage the preferred
	marriage.
	</p>
	</div>
	<div class="balloon" id="HelpEdit">
	<p>Edit the marriage on this row.  A dialog is displayed with details 
	of the marriage.
	</p>
	</div>
	<div class="balloon" id="HelpDelete">
	<p>Delete the marriage on this row.
	</p>
	</div>
	<div class="balloon" id="HelpAdd">
	<p>Add a new marriage to the current individual.
	</p>
	</div>
	<div class="balloon" id="HelpFinish">
	<p>Close the dialog.  The updates to the database have already been made.
	</p>
	</div>
	<div class="balloon" id="HelpReorder">
	<p>Change the order of the marriages to be in chronological order by
	marriage date.  If you know the actual order of the marriages, but do not
	know the exact date of a marriage, it is recommended that you specify 
	a range of dates for the marriage as this will not only permit using this
	feature to order the marriages correctly, but also give a hint as to which
	documentary sources to search to complete the information.
	</p>
	</div>
	<div class="balloon" id="Helpidmr">
	<p>This read-only field displays the internal numeric identifier of
	this relationship.
	</p>
	</div>
	<div class="balloon" id="HelpHusbGivenName">
	<p>This displays the given names of the husband.
	If you alter this field it changes the given name of the individual.
	</p>
	</div>
	<div class="balloon" id="HelpHusbSurname">
	<p>This displays the family name of the husband. 
	If you alter this field it changes the family name of the individual.
	</p>
	</div>
	<div class="balloon" id="HelpHusbMarrSurname">
	<p>This displays the family name by which the husband was known during this
	marriage.
	If the traditional rule in which the Husband did
	not change his surname on marriage is in effect this is a read-only field.
	</p>
	</div>
	<div class="balloon" id="HelpWifeGivenName">
	<p>This displays the given names of the wife. 
	If you alter this field it changes the given name of the individual.
	</p>
	</div>
	<div class="balloon" id="HelpWifeSurname">
	<p>This displays the family name of the wife. 
	If you alter this field it changes the family name of the individual.
	</p>
	</div>
	<div class="balloon" id="HelpWifeMarrSurname">
	<p>This displays the family name by which the wife was known during this
	marriage.  If the traditional rule in which the Wife took her husband's surname
	on marriage is in effect this is a read-only field.
	</p>
	</div>
	<div class="balloon" id="HelpchooseHusb">
	<p>Selecting this button pops up a
	<a href="chooseIndividHelpen.html" target="_blank">dialog</a> 
	that permits you to select an
	already existing individual from the family tree to assign as the husband
	in this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpeditHusb">
	<p>Selecting this button pops up a
	<a href="editIndividHelpen.html" target="_blank">dialog</a> 
	that permits you to modify information about the individual
	who is the husband in this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpcreateHusb">
	<p>Selecting this button pops up a
	<a href="editIndividHelpen.html" target="_blank">dialog</a> 
	that permits you to create a
	new individual in the family tree to be the husband in this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpdetachHusb">
	<p>Selecting this button detaches the currently assigned husband from this
	marriage.  It is not necessary to do this before selecting or creating
	a new husband.
	</p>
	</div>
	<div class="balloon" id="HelpeditWife">
	<p>Selecting this button pops up a
	<a href="editIndividHelpen.html" target="_blank">dialog</a> 
	that permits you to modify information about the individual
	who is the wife in this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpchooseWife">
	<p>Selecting this button pops up a
	<a href="chooseIndividHelpen.html" target="_blank">dialog</a> 
	that permits you to select an
	already existing individual from the family tree to assign as the wife
	in this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpcreateWife">
	<p>Selecting this button pops up a
	<a href="editIndividHelpen.html" target="_blank">dialog</a> 
	that permits you to create a
	new individual in the family tree to be the wife in this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpdetachWife">
	<p>Selecting this button detaches the currently assigned wife from this
	marriage.  It is not necessary to do this before selecting or creating
	a new wife.
	</p>
	</div>
	<div class="balloon" id="HelpMarD">
	<p>Supply the date of the marriage.  The program understands a wide
	variety of date formats which are too extensive to be described here.
	It is suggested that you enter the date of marriage in the form "dd mmm yyyy"
	where "dd" is the day of the month, "mmm" is a 3 letter abbreviation for the
	name of the month, and "yyyy" is the year of the marriage.
	</p>
	<p>See <a href="datesHelpen.html">supported date formats</a> for details.
	</p>
	</div>
	<div class="balloon" id="HelpMarLoc">
	<p>Supply the location of the marriage.  The text you enter is used to
	select an appropriate Location record.  This is done by first doing a
	case-insensitive search for a match on the complete text you entered, and if
	this fails then a search is done for a match on the short name of the
	location.  If no match is found on either search then a new location is
	created using exactly the text you entered.  Subsequently the only way that
	you can change the appearance of the location is to either select a different
	location by typing in its name or short name, or by editing the location
	record itself.
	</p>
	</div>
	<div class="balloon" id="HelpmarriageDetails">
	<p>Clicking on this button opens a dialog that permits you to add further
	details about the marriage and to specify source citations for the fact.
	</div>
	<div class="balloon" id="HelpMarEndD">
	<p>Supply the date that the marriage or relationship came to an end.
	If the marriage came to an end as a result of some specific event,
	for example a divorce, annulment, or legal separation, then you
	should add an event describing that rather than using this field.
	<p>The program understands a wide
	variety of date formats which are too extensive to be described here.
	It is suggested that you enter the date of marriage in the form "dd mmm yyyy"
	where "dd" is the day of the month, "mmm" is a 3 letter abbreviation for the
	name of the month, and "yyyy" is the year of the marriage.
	</p>
	<p>See <a href="datesHelpen.html">supported date formats</a> for details.
	</p>
	</div>
	<div class="balloon" id="HelpSealD">
	<p>Supply the date that the partners were sealed to each other at a
	Church of Latter Day Saints temple.  The program understands a wide
	variety of date formats which are too extensive to be described here.
	It is suggested that you enter the date of marriage in the form "dd mmm yyyy"
	where "dd" is the day of the month, "mmm" is a 3 letter abbreviation for the
	name of the month, and "yyyy" is the year of the marriage.
	</p>
	<p>See <a href="datesHelpen.html">supported date formats</a> for details.
	</p>
	</div>
	<div class="balloon" id="HelpSealLoc">
	<p>This read-only field contains the name of the Church of Latter Day
	Saints temple where the partners were sealed to each other. 
	To select a different temple click on the
	<span class="button">Details</span> button at the end of this row.
	</p>
	</div>
	<div class="balloon" id="HelpDate">
	<p>This read-only field displays the date of the family event.
	To modify the date, or any other information about this event, click on the
	<span class="button">Details</span> button at the end of this row.
	</p>
	</div>
	<div class="balloon" id="HelpLoc">
	<p>This read-only field displays the location of the event.
	To modify the location, or any other information about this event, click on the
	<span class="button">Details</span> button at the end of this row.
	</p>
	</div>
	<div class="balloon" id="HelpAddEvent">
	<p>Selecting this button opens a
	<a href="editEventHelpen.html" target="_blank">dialog</a> 
	to edit the detailed information
	about a new event being added to the marriage.
	</p>
	</div>
	<div class="balloon" id="HelpOrderEvents">
	<p>Selecting this button reorders the events of this marriage by their dates.
	</p>
	</div>
	<div class="balloon" id="HelpEditEvent">
	<p>Selecting this button opens a
	<a href="editEventHelpen.html" target="_blank">dialog</a> 
	to edit the detailed information
	about the event summarized in this line of the form.
	In particular you may add source citations for the event.
	</p>
	</div>
	<div class="balloon" id="HelpDelEvent">
	<p>Selecting this button deletes
	the event summarized in this line of the form.
	</p>
	</div>
	<div class="balloon" id="HelpIDMS">
	<p>This selection list permits you to specify the ending or current
	status of this marriage.
	</p>
	</div>
	<div class="balloon" id="HelpMarriedNameRule">
	<p>This selection list permits you to specify whether or not the wife
	took her husband's surname as a result of the marriage.  The default
	is the traditional practice.
	</p>
	</div>
	<div class="balloon" id="HelpNotMarried">
	<p>This checkbox is used to indicate that the couple is known to have never
	been married.  You may remove this fact 
	by clicking on the checkbox to change its state.
	</p>
	</div>
	<div class="balloon" id="HelpneverMarriedDetails">
	<p>Click on this button to add additional information about the never married
	fact.  In particular you may add source citations for the fact.
	</p>
	</div>
	<div class="balloon" id="HelpNoChildren">
	<p>This checkbox is used to indicate that the couple is known to have never
	had children.  You may remove this fact by clicking on the 
	checkbox to change its state.
	</p>
	</div>
	<div class="balloon" id="HelpnoChildrenDetails">
	<p>Click on this button to add additional information about the no children
	fact.  In particular you may add source citations for the fact.
	</p>
	</div>
	<div class="balloon" id="HelpNotes">
	<p>Supply extended textual notes about the marriage.
	Note that the text may include HTML markup which will appear in the
	resulting web page.  For example placing the tags "&lt;b&gt;" and "&lt;/b&gt;"
	around text makes it bold.  Placing the tags "&lt;a href="Person.php?idir=9999 class="male"&gt;" and "&lt;/a&gt;" around a name, where "9999" is replaced
	by the appropriate numeric key value and the appropriate gender is specified
	for "class" highlights the name as a hyperlink to the web page.  You can use
	this technique to connect the names of witnesses or other participants in the
	marriage to their records in the family tree.
	</p>
	<p>Although you might be tempted to include the text of a newspaper notice
	about the marriage in this field, it is recommended that you put that
	text into the citation text field instead.
	</p>
	</div>
	<div class="balloon" id="HelpnoteDetails">
	<p>Click on this button to add additional information about the marriage notes.
	In particular you may add source citations for the notes.
	</p>
	</div>
	<div class="balloon" id="HelpaddChild">
	<p>Selecting this button, or using the keyboard short-cut alt-E, opens a
	<a href="chooseIndividHelpen.html" target="_blank">dialog</a> 
	to choose an existing individual
	in the family tree database to add as a child of this family.
	</p>
	</div>
	<div class="balloon" id="HelpaddNewChild">
	<p>Selecting this button, or using the keyboard short-cut alt-N, opens a 
	<a href="editIndividHelpen.html" target="_blank">dialog</a> 
	to create a new individual in the
	family tree database that is added as a child of this family.
	</p>
	</div>
	<div class="balloon" id="HelpCGiven">
	<p>This displays the given names of a child.
	If you alter this field it changes the given name of the individual.
	Pressing the Enter key in this field moves the input focus down to the
	given name field of the next child, adding a new empty child row if needed.
	</p>
	</div>
	<div class="balloon" id="HelpCSurname">
	<p>This displays the family name of a child.
	This defaults to the family name of the father.
	If you alter this field it changes the family name of the child.
	Pressing the Enter key in this field moves the input focus down to the
	given name field of the next child, adding a new empty child row if needed.
	</p>
	</div>
	<div class="balloon" id="HelpCbirth">
	<p>This input field displays the birth date of a child.
	If you alter this field it changes the birth date of the individual.
	Pressing the Enter key in this field moves the input focus down to the
	given name field of the next child, adding a new empty child row if needed.
	</p>
	</div>
	<div class="balloon" id="HelpCdeath">
	<p>This input field displays the death date of a child.
	If you alter this field it changes the death date of the individual.
	Pressing the Enter key in this field moves the input focus down to the
	given name field of the next child, adding a new empty child row if needed.
	</p>
	</div>
	<div class="balloon" id="Helpupdate">
	<p>Selecting this button, or using the keyboard short-cuts alt-U or ctl-S, 
	updates the database to apply all of the pending 
	changes to the marriage record.  Note that updates to citations and for
	managing the list of children are applied to the database independently.
	</p>
	</div>
	<div class="balloon" id="HelpSubmit">
	<p>Selecting this button, or using the keyboard short-cuts alt-U or ctl-S, 
	updates the database to apply all of the pending 
	changes to the marriage record.  Note that updates to citations and for
	managing the list of children are applied to the database independently.
	</p>
	</div>
	<div class="balloon" id="HelporderChildren">
	<p>Selecting this button, or using the keyboard short-cut alt-O, 
	reorders the children of this marriage by their
	dates of birth.
	</p>
	</div>
	<div class="balloon" id="HelpeditChild">
	<p>Selecting this button opens a
	<a href="editIndividHelpen.html" target="_blank">dialog</a> 
	to edit the detailed information
	about the child summarized in this line of the form.
	</p>
	</div>
	<div class="balloon" id="HelpdetChild">
	<p>Selecting this button detaches the child summarized in this line of the
	form from this family.  You can then go to another family and attach the
	child there.
	</p>
	</div>
	<div class="balloon" id="HelpPictures">
	<p>Selecting this button opens a dialog
	to edit the set of pictures associated with this family.
	</p>
	</div>
	<div class="balloon" id="HelpFamiliesSet">
	This part of the page lists the marriages.
	</div>
	<div class="balloon" id="HelpHusbandSet">
	This part of the page groups information about the Husband.
	</div>
	<div class="balloon" id="HelpWifeSet">
	This part of the page groups information about the Wife.
	</div>
	<div class="balloon" id="HelpEventSet">
	This part of the page groups information about the events of the marriage.
	</div>
	<div class="balloon" id="HelpInformationSet">
	This part of the page groups general information about the marriage.
	</div>
	<div class="balloon" id="HelpChildrenSet">
	This part of the page groups information about the children.
	</div>
	<div id="loading" class="popup">
	Loading...
	</div>
	<div class="hidden" id="templates">
	  <table id="templateRows">
	<!--
	 *	layout of the table row to display a summary of a marriage
	 *  in the table at the top of the dialog.
	 *	Putting the layout here permits more user
	 *	customization, including support for alternate languages.
	 *	This row layout should match the rows in <tbody id="marriageListBody">
	-->
		<tr id="marriage$idmr">
		  <td id="mdate$idmr">
				$mdate
		  </td>
		  <td>
		    <a href="Person.php?id=$spsid"
				class="$spsclass" id="spousename$idmr">
				$spsGiven $spsSurname
		    </a>
		  </td>
		  <td class="center">
		    <input type="checkbox" name="Pref$idmr">
		  </td>
		  <td>
		    <button type="button" class="button" id="Edit$idmr">
				Edit Family
		    </button>
		  </td>
		  <td>
		    <button type="button" class="button" id="Delete$idmr">
				Delete Family
		    </button>
		  </td>
		</tr>
	<!-- end of template for marriage row -->
	
	<!--
	 *	layout of the table row to display a single child of this marriage
	 *  each row is added by javascript when the XML response to the AJAX
	 *	request is received.  Putting the layout here permits more user
	 *	customization, including support for alternate languages.
	-->
		<tr id="child$rownum">
		  <td class="name">
		    <input type="hidden" name="CIdir$rownum" id="CIdir$rownum"
						value="$idir">
		    <input type="hidden" name="CIdcr$rownum" id="CIdcr$rownum"
						value="$idcr">
		    <input type="hidden" name="CGender$rownum" id="CGender$rownum"
						value="$sex">
		    <input class="$gender" name="CGiven$rownum" id="CGiven$rownum"
						value="$givenname" type="text" size="14"
						maxlength="120">
		  </td>
		  <td class="name">
		    <input class="$gender" name="CSurname$rownum" id="CSurname$rownum" 
						value="$surname" type="text" size="10" maxlength="120">
		  </td>
		  <td class="name">
		    <input class="white left" name="Cbirth$rownum" id="Cbirth$rownum" 
						value="$birthd" type="text" size="12" maxlength="100">
		    <input name="Cbirthsd$rownum" id="Cbirthsd$rownum" type="hidden" 
						value="$birthsd">
		  </td>
		  <td class="name">
		    <input class="white left" name="Cdeath$rownum" id="Cdeath$rownum" 
						value="$deathd" type="text" size="12" maxlength="100">
		  </td>
		  <td>
		    <button type="button" class="button" id="editChild$rownum">
				Edit Child
		    </button>
		  </td>
		  <td>
		    <button type="button" class="button" id="detChild$rownum">
				Detach&nbsp;Child
		    </button>
		  </td>
		</tr>
	<!-- end of template for child row -->
	</table>
	
	<!-- template for sealed to spouse event row -->
		<div class="row" id="SealedRow$temp">
		  <div class="column1">
		    <label class="column1" for="SealD">
				Sealed&nbsp;to&nbsp;Spouse (LDS):
		    </label>
		    <input type="text" name="SealD" id="SealD"
						size="12" maxlength="100"
						class="white left" value="$eventd">
		    <span style="font-weight: bold;">at</span>
		    <select name="IDTRSeal" id="IDTRSeal"
						size="1" class="white left">
				<option value="$idtr">
				    $templeName
				</option>
		      </select>
		    </div>
		    <div>
		      <button type="button" class="button"
						id="EditIEvent18$temp">
				Details
		      </button>
		      &nbsp;
		      <button type="button" class="button" id="DelIEvent18$temp">
				Delete
		      </button>
		    </div>
		    <div style="clear: both;"></div>
		</div>
	<!-- end of template for sealed to spouse event row -->
	
	<!-- template for marriage ended event row -->
		<div class="row" id="EndedRow$temp">
		  <div class="column1">
		    <label class="column1" for="MrEndD">
				Marriage&nbsp;Ended:
		    </label>
		    <input type="text" name="MarEndD" id="MarEndD"
						size="12" maxlength="100"
						class="white left" value="$eventd">
		  </div>
		  <div>
		    <button type="button" class="button"
						id="EditIEvent24$temp">
				Details
		    </button>
		    &nbsp;
		    <button type="button" class="button" id="DelIEvent24$temp">
				Delete
		    </button>
		  </div>
		  <div style="clear: both;"></div>
		</div>
	<!-- end of template for mariage ended event row -->
	
	<!-- template for general marriage event row -->
		<div class="row" id="EventRow$ider">
		  <div class="column1">
		    <label class="column1" for="Date$ider">
				$type $description
		    </label>
		    <input type="hidden"
						name="citType$ider"
						value="$idet">
		    <input type="text" size="12"
						name="Date$ider"
						class="white left"
						value="$eventd">
		    <span style="font-weight: bold;">at</span>
		    <input type="text" size="36"
						name="EventLoc$ider"
						class="white leftnc"
						value="$eventloc" >
		  </div>
		  <div>
		    <button type="button" class="button"
						id="EditEvent$ider">
				Details
		    </button>
		    &nbsp;
		    <button type="button" class="button" id="DelEvent$ider">
				Delete
		    </button>
		  </div>
		  <div style="clear: both;"></div>
		</div>
	<!-- end of template for marriage event row -->
	
	<!-- template for never married fact row -->
		<div class="row" id="NotMarriedRow$temp">
		  <div class="column1">
		    <label class="column1" for="NotMarried">
				Not Married:
		    </label>
		    <input type="checkbox" name="NotMarried$temp" id="NotMarried$temp"
				checked="checked">
		  </div>
		  <div>
		    <button type="button" class="button" id="neverMarriedDetails$temp">
				Details
		    </button>
		  </div>
		  <div style="clear: both;"></div>
		</div>
	<!-- end of template for never married fact row -->
	
	<!-- template for no children fact row -->
		<div class="row" id="NoChildrenRow$temp">
		  <div class="column1">
		    <label class="column1" for="NoChildren">
				No Children:
		    </label>
		    <input type="checkbox" name="NoChildren$temp" id="NoChildren$temp"
						checked="checked">
		  </div>
		  <div>
		    <button type="button" class="button" id="noChildrenDetails$temp">
				Details
		    </button>
		  </div>
		  <div style="clear: both;"></div>
		</div>
	<!-- end of template for no children fact row -->
	
	$LOCATIONDIALOGS
	
	  <!-- template for confirming the deletion of an event-->
	  <form name="ClrInd$template" id="ClrInd$template">
	    <p class="message">$msg</p>
	    <p>
	      <button type="button" id="confirmClear$type">
		    OK
	      </button>
	      <input type="hidden" id="formname$type" name="formname$type"
				    value="$formname">
		    &nbsp;
	      <button type="button" id="cancelDelete$type">
		    Cancel
	      </button>
	    </p>
	  </form>
	
	  <!-- template for warning child already being edited -->
	  <form name="AlreadyEditing$template" id="AlreadyEditing$template">
	    <p class="message">$givenname $surname is already being edited</p>
	    <p>
	      <button type="button" id="justClose$template">
		    OK
	      </button>
	    </p>
	  </form>
	
	  <span id="EventText$idet">$text</span>
	</div> <!-- id="templates" -->
    <script src="/jscripts/js20/http.js" type="application/javascript">
    </script>
    <script src="/jscripts/util.js" type="application/javascript">
    </script>
    <script src="/jscripts/CommonForm.js" type="application/javascript">
    </script>
    <script src="/jscripts/locationCommon.js" type="application/javascript">
    </script>
    <script src="/FamilyTree/editIndivid.js" type="application/javascript">
    </script>
    <script src="/jscripts/tinymce/js/tinymce/tinymce.js" type="application/javascript">
    </script>
    <script src="/jscripts/Cookie.js" type="application/javascript">
    </script>
    <script src="/FamilyTree/commonMarriage.js" type="application/javascript">
    </script>
    <script src="/FamilyTree/editMarriages.js" type="application/javascript">
    </script>

